<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesticide Suggestion</title>
    <link rel="stylesheet" href="static/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* General container styling */
        .container {
            width: 50%;
            margin: auto;
            padding: 20px;
            /* height: 300px; */
            background-color: var(--secondary-bg);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        /* Form section */
        .form-section {
            padding: 20px;
            background-color: var(--secondary-bg);
            border-radius: 10px;
            /* box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); */
        }

        h2 {
            font-size: 22px;
            margin-bottom: 15px;
        }

        label {
            font-size: 16px;
            display: block;
            margin-bottom: 8px;
        }

        select {
            background-color: var(--secondary-bg);
            color: var(--text-color);
            width: 100%;
            padding: 8px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            outline: none;
        }

        .button-submit {
            margin-top: 15px;
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #28a745;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .button-submit:hover {
            background-color: #218838;
        }

        /* Loader styling */
        #loader img {
            width: 50px;
        }

        /* Result section */
        .result-container {
            padding: 15px;
            background-color: var(--secondary-bg);
            border-radius: 10px;
            /* box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); */
        }

        #result {
            font-size: 20px;
        }


        .hero-image img {
            width: 100%;
            max-width: 600px;
            border-radius: 10px;
            transition: transform 0.5s ease, box-shadow 0.5s ease;
        }

        .hero-image img:hover {
            transform: rotate(5deg) scale(1.1);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>

<body class="light">
    <nav>
        <div class="logo">KrishiGuide</div>
        <div class="nav-links">
            <a href="#home" class="active" data-en="Home" data-hi="‡§π‡•ã‡§Æ">Home</a>
            <a href="#features" data-en="Features" data-hi="‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§è‡§Ç">Features</a>
            <a href="#about" data-en="About" data-hi="‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç">About</a>
            <a href="#contact" data-en="Contact" data-hi="‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç">Contact</a>
            <button id="langToggle">EN</button>
            <button id="themeToggle"><i class="fas fa-moon"></i></button>
            <button class="get-started" data-hi="‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç" data-en="Get Started"
                onclick="window.location.href='/';">Get Started</button>
        </div>
    </nav>

    <main>
        <section id="home" class="hero">
            <div class="hero-content">
                <span class="tag">AI-Powered Farming</span>
                <h1 class="title" data-en="Pesticide Suggestion" data-hi="‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§∏‡•Å‡§ù‡§æ‡§µ">Pesticide Suggestion</h1>
                <p class="subtitle"
                    data-en="Use AI-powered tools to get the best pesticide recommendations for protecting your crops from pests. Ensure healthier yields with precise suggestions."
                    data-hi="‡§ï‡•Ä‡§ü‡•ã‡§Ç ‡§∏‡•á ‡§Ö‡§™‡§®‡•Ä ‡§´‡§∏‡§≤‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§∞‡•ç‡§µ‡§∂‡•ç‡§∞‡•á‡§∑‡•ç‡§† ‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è AI-‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§∏‡§ü‡•Ä‡§ï ‡§∏‡•Å‡§ù‡§æ‡§µ‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§â‡§™‡§ú ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§">
                    Use AI-powered tools to get the best pesticide recommendations for protecting your crops from pests.
                    Ensure healthier yields with precise suggestions.
                </p>



            </div>
            <div class="hero-image">
                <img src="static/images/pesticide_suggestion.jpg" alt="Farmer using technology">
            </div>
        </section>

        <div class="container">
            <div class="form-section">
                <h2 data-en="Get Pesticide Suggestion" data-hi="‡§ï‡•Ä‡§ü‡§®‡§æ‡§∂‡§ï ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç
        ">Get Pesticide Suggestion</h2>
                <form id="predictionForm">
                    <label data-en="Select Pest:" data-hi="‡§ï‡•Ä‡§ü ‡§ï‡§æ ‡§ö‡§Ø‡§® ‡§ï‡§∞‡•á‡§Ç
          :">Select Pest:</label>
                    <select id="pest_name" name="pest_name">
                        <option value="">-- Select Pest --</option>
                        {% for pest_name in pest_names %}
                        <option value="{{ pest_name }}">{{ pest_name }}</option>
                        {% endfor %}
                    </select>


                    <button class="button-submit" type="submit" data-en="Submit" data-hi="‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á">Submit</button>
                </form>

            </div>
            <div id="loader" style="display: none; text-align: center; margin-top: 40px;">
                <img src="https://i.gifer.com/ZKZg.gif" alt="Loading..." width="50">
            </div>
            <div class="result-container" style="text-align: left;">
                <div id="result"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>KrishiGuide</h3>
                <p data-en="Smart farming solutions powered by AI" data-hi="AI ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§ï‡•É‡§∑‡§ø ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®">Smart
                    farming
                    solutions powered by AI</p>
            </div>
            <div class="footer-section">
                <h3 data-hi="
          ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§∏‡§Æ‡•ç‡§™‡§ï" data-en="Quick Links">Quick Links</h3>
                <a href="{{ url_for('index') }}" data-en="Home" data-hi="‡§π‡•ã‡§Æ">Home</a>
                <a href="#features" data-en="Features" data-hi="‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§è‡§Ç">Features</a>
                <a href="#about" data-en="About" data-hi="‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç">About</a>
                <a href="#contact" data-en="Contact" data-hi="‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç">Contact</a>
                <a href="/developers" data-en="Developers" data-hi="‡§°‡•á‡§µ‡§≤‡§™‡§∞‡•ç‡§∏">Developers</a>
            </div>
            <div class="footer-section">
                <h3 data-en="Features" data-hi="‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ‡§è‡§Ç">Features</h3>
                <a href="/crop_recommendation" data-en="Crop Suggestion" data-hi="‡§´‡§∏‡§≤ ‡§∏‡•Å‡§ù‡§æ‡§µ
        ">Crop Suggestion</a>
                <a href="/crop_price_predict" data-en="Price Prediction" data-hi="‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä
        ">Price Prediction</a>
                <a href="/plant_disease" data-en="Disease Detection" data-hi="‡§∞‡•ã‡§ó ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§®‡§æ
        ">Disease Detection</a>
                <a href="/weather_forecast" data-en="Weather Forecast" data-hi="‡§Æ‡•å‡§∏‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§®
        ">Weather Forecast</a>
            </div>
            <div class="footer-section">
                <h3 data-en="Contact" data-hi="‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç">Contact</h3>
                <p>info@krishiguide.com</p>
                <p>+91 98765 43210</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p data-en="&copy; 2025 KrishiGuide. All rights reserved." data-hi="&copy; 
        2025 ‡§ï‡•É‡§∑‡§ø‡§ó‡§æ‡§á‡§°‡•§ ‡§∏‡§≠‡•Ä ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§‡•§">&copy; 2025 KrishiGuide. All rights reserved.</p>
        </div>
    </footer>

    <script src="static/script.js"></script>
    <script>
        $(document).ready(function () {
            // Language toggle logic
            $("#languageToggle").click(function () {
                var isEnglish = $(this).text() === "EN";
                $(this).text(isEnglish ? "‡§π‡§ø‡§Ç" : "EN");

                $("[data-en]").each(function () {
                    var text = isEnglish ? $(this).attr("data-hi") : $(this).attr("data-en");
                    $(this).text(text);
                });
            });

            // Handle form submission
            $(document).ready(function () {
                $("#predictionForm").submit(function (event) {
                    event.preventDefault();

                    let pestName = $("#pest_name").val(); // Get input value
                    $("#loader").show(); // Show loader animation
                    $("#result").hide(); // Hide previous results

                    $.ajax({
                        url: "/pesticide_suggestion_output",
                        type: "POST",
                        contentType: "application/json",
                        data: JSON.stringify({ "pest_name": pestName }),
                        success: function (response) {
                            setTimeout(function () {
                                $("#loader").hide(); // Hide loader after 2s

                                // Add header
                                let resultText = `<strong>üõ°Ô∏è Suggested Pesticides for ${pestName}</strong><br><br>`;

                                // Ensure pesticides are properly formatted as a list
                                if (response.Pesticides) {
                                    let pesticidesArray = response.Pesticides.split(", "); // Split by comma
                                    pesticidesArray.forEach(function (pesticide) {
                                        resultText += `üîπ ${pesticide}<br>`; // Add bullets and new lines
                                    });
                                } else {
                                    resultText += "No pesticides found.";
                                }

                                $("#result").html(resultText).fadeIn(); // Update and show results
                            }, 2000); // 2s delay
                        },
                        error: function (xhr, status, error) {
                            $("#loader").hide(); // Hide loader on error
                            $("#result").html("‚ùå Error: " + xhr.responseJSON.error).fadeIn();
                        }
                    });
                });
            });


        });
    </script>
</body>

</html>